# 工作模式
![](../photo/Pasted%20image%2020250822093151.png)
- 51单片机中的默认
	- 数据位8位
	- 停止位1位
- 模式0
	- **同步通讯**
	- TxD引脚会作为时钟信号线，RxD作为数据信号线
	- 只能实现**半双工通讯**
- 模式1、2、3
	- 经典的UART通讯
	- **是否有校验位**，方式1无校验位，方式2、3有1个校验位
	- **波特率是否可变**

# 设置工作模式

![](../photo/Pasted%20image%2020250822095305.png)

![](../photo/Pasted%20image%2020250822095311.png)

# 设置波特率
![](../photo/Pasted%20image%2020250822095940.png)
- UART常用的波特率有4800、9600、19200、38400、57600、115200等，此处以**9600**为例

![](../photo/Pasted%20image%2020250822111456.png)
- **SMOD = 0**，所以此时的波特率应为 **（定时器1的溢出率）/ 32**

![](../photo/Pasted%20image%2020250822111515.png)
- 定时器1的工作模式需要通过TMOD寄存器中的C/T控制位，以及M1和M0两个控制位进行设置
- **选择模式2（8位自动重装载）最为合理**
	- 自动装置，就不需要设置定时器中断了

![](../photo/Pasted%20image%2020250822111641.png)
- 定时器1的溢出频率等于SYSclk / 12 /（256 - TH1）或者是SYSclk / 6 /（256 - TH1）
- 当前MCU工作在12T模式
- **所以溢出频率就等于SYSclk / 12 /（256 - TH1）**
- **最终的波特率就应该等于SYSclk / 12 /（256-TH1）/32**
	- ![](../photo/Pasted%20image%2020250822112203.png)
	- 可计算出TH1的值应为253
- 启动定时器, 将GATE设置为0，并将TR1设置为1

